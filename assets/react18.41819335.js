import{r as a,j as r,F as i,a as e,e as u,c as T,t as B,G as L,H as Q,R as k,d as h,f as g}from"./theme.2e2504fc.js";import{c as w}from"./client.4f63c254.js";import{S,C as y,R as x,a as f,u as E,B as m,T as A}from"./useRenderCount.284fb8d9.js";const F=()=>{const[t,s]=a.exports.useState(""),[n,o]=a.exports.useState(""),[c,l]=a.exports.useTransition();return r(i,{as:"section",column:!0,gap:"1rem",padding:"2rem 0",children:[e(S,{type:"text",value:t,onChange:d=>{s(d.target.value),l(()=>o(d.target.value))}}),c?e("div",{children:"Loading..."}):e(N,{query:n})]})},N=({query:t})=>{if(t==="")return e("div",{});{const s=Array.from({length:5e3},(n,o)=>r(y,{children:[e(x,{}),e(f,{children:t})]},o));return e(i,{center:!0,column:!0,gap:"1rem",children:s})}},_=()=>{const[t,s]=a.exports.useState(!0),[n,o]=a.exports.useState(0),[c,l]=a.exports.useState(()=>new Date().toLocaleString()),[p,d]=a.exports.useState([]),C=E([t,n,c]),R=()=>{s(!t),o(n+1),l(new Date().toLocaleString())},v=()=>{setTimeout(()=>{s(!t),o(n+1),l(new Date().toLocaleString())},0)},D=()=>{u.exports.flushSync(()=>s(!t)),u.exports.flushSync(()=>o(n+1)),u.exports.flushSync(()=>l(new Date().toLocaleString()))};return a.exports.useEffect(()=>{d(b=>[...b,r("tr",{children:[e("td",{children:C}),e("td",{children:t.toString()}),e("td",{children:n}),e("td",{children:c})]},`${c}_${n}_${t}`)])},[t,n,c]),r(i,{column:!0,gap:"1rem",children:[r(i,{gap:"1rem",children:[e(m,{onClick:R,children:"setState in Event handler"}),e(m,{onClick:v,children:"setState in setTimeout"}),e(m,{onClick:D,children:"setState in flushSync"})]}),r(A,{cellSpacing:0,children:[e("thead",{children:r("tr",{children:[e("th",{children:"Render Count"}),e("th",{children:"Boolean"}),e("th",{children:"Number"}),e("th",{children:"Date"})]})}),e("tbody",{children:p})]})]})},$=()=>{const[t,s]=a.exports.useState(""),n=a.exports.useDeferredValue(t);return r(i,{as:"section",column:!0,gap:"1rem",padding:"2rem 0",children:[e(S,{type:"text",value:t,onChange:l=>{s(l.target.value)}}),t!==n?e("div",{children:"Loading..."}):e(j,{query:n})]})},j=({query:t})=>{if(t==="")return e("div",{});{const s=Array.from({length:5e3},(n,o)=>r(y,{children:[e(x,{}),e(f,{children:t})]},o));return e(i,{center:!0,column:!0,gap:"1rem",children:s})}},P=()=>r(T,{theme:B,children:[e(L,{}),r("main",{className:"App",children:[e("h2",{children:"React 18"}),e(Q,{children:r(k,{children:[e(h,{path:g("transition"),element:e(F,{})}),e(h,{path:g("batching"),element:e(_,{})}),e(h,{path:g("deferredValue"),element:e($,{})})]})})]})]}),U=document.getElementById("root"),V=w(U);V.render(e(P,{}));
