import{r as a,j as o,F as u,a as e,e as p,c as b,t as D,G as k,H as w,R as B,d,f as h}from"./theme.2ff1939a.js";import{c as F}from"./client.33837f07.js";import{S as y,C as f,R as S,a as x,u as L,B as g,T as U,Q as $,q as I,b as N,L as P,I as A,F as E}from"./useFetch.44e21c8e.js";const _=()=>{const[t,r]=a.exports.useState(""),[n,s]=a.exports.useState(""),[c,l]=a.exports.useTransition();return o(u,{as:"section",column:!0,gap:"1rem",padding:"2rem 0",children:[e(y,{type:"text",value:t,onChange:i=>{r(i.target.value),l(()=>s(i.target.value))}}),c?e("div",{children:"Loading..."}):e(j,{query:n})]})},j=({query:t})=>{if(t==="")return e("div",{});{const r=Array.from({length:5e3},(n,s)=>o(f,{children:[e(S,{}),e(x,{children:t})]},s));return e(u,{center:!0,column:!0,gap:"1rem",children:r})}},q=()=>{const[t,r]=a.exports.useState(!0),[n,s]=a.exports.useState(0),[c,l]=a.exports.useState(()=>Date.now()),[m,i]=a.exports.useState([]),C=L([t,n,c]),v=()=>{r(!t),s(n+1),l(Date.now())},R=()=>{setTimeout(()=>{r(!t),s(n+1),l(Date.now())},0)},Q=()=>{p.exports.flushSync(()=>r(!t)),p.exports.flushSync(()=>s(n+1)),p.exports.flushSync(()=>l(Date.now()))};return a.exports.useEffect(()=>{i(T=>[...T,o("tr",{children:[e("td",{children:C}),e("td",{children:t.toString()}),e("td",{children:n}),e("td",{children:new Date(c).toISOString()})]},`${c}_${n}_${t}`)])},[t,n,c]),o(u,{column:!0,gap:"1rem",children:[o(u,{gap:"1rem",children:[e(g,{onClick:v,children:"setState in event handler"}),e(g,{onClick:R,children:"setState in setTimeout"}),e(g,{onClick:Q,children:"setState in flushSync"})]}),o(U,{cellSpacing:0,children:[e("thead",{children:o("tr",{children:[e("th",{children:"Render Count"}),e("th",{children:"Boolean"}),e("th",{children:"Number"}),e("th",{children:"Date"})]})}),e("tbody",{children:m})]})]})},V=()=>{const[t,r]=a.exports.useState(""),n=a.exports.useDeferredValue(t);return o(u,{as:"section",column:!0,gap:"1rem",padding:"2rem 0",children:[e(y,{type:"text",value:t,onChange:l=>{r(l.target.value)}}),t!==n?e("div",{children:"Loading..."}):e(G,{query:n})]})},G=({query:t})=>{if(t==="")return e("div",{});{const r=Array.from({length:5e3},(n,s)=>o(f,{children:[e(S,{}),e(x,{children:t})]},s));return e(u,{center:!0,column:!0,gap:"1rem",children:r})}},H=()=>{const[t,r]=a.exports.useState(""),[n,s]=a.exports.useState(""),[c,l]=a.exports.useTransition();return e($,{client:I,children:o(u,{as:"section",column:!0,gap:"1rem",padding:"2rem 0",children:[e(y,{type:"text",value:t,onChange:i=>{r(i.target.value),l(()=>s(i.target.value))}}),e(a.exports.Suspense,{fallback:"Loading...",children:e("div",{style:{opacity:c?.4:1},children:e(O,{query:n})})})]})})},O=({query:t})=>{const r=N(t?`https://restcountries.com/v3.1/name/${t}`:"https://restcountries.com/v3.1/all");return e(P,{children:r.sort((n,s)=>n.name.official.localeCompare(s.name.official)).map(n=>o(A,{children:[e(E,{src:n.flags.png}),e("span",{children:n.name.official})]},n.name.official))})},W=()=>o(b,{theme:D,children:[e(k,{}),o("main",{className:"App",children:[e("h2",{children:"React 18"}),e(w,{children:o(B,{children:[e(d,{path:h("transition"),element:e(_,{})}),e(d,{path:h("batching"),element:e(q,{})}),e(d,{path:h("deferredValue"),element:e(V,{})}),e(d,{path:h("suspense"),element:e(H,{})})]})})]})]}),z=document.getElementById("root"),J=F(z);J.render(e(W,{}));
