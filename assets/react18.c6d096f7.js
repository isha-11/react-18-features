import{r as a,j as r,F as u,a as e,S as f,n as y,C as x,h as S,i as C,k as D,l as p,T as U,f as g,o as k,I as B,p as w,d as F,t as $,G as A,D as E,H as I,R as N,e as h,q as d}from"./theme.e524a142.js";import{c as P}from"./client.c2dd3607.js";import{u as _,f as j,a as V}from"./useFetch.152d6e99.js";const q=()=>{const[t,s]=a.exports.useState(""),[n,o]=a.exports.useState(""),[c,l]=a.exports.useTransition();return r(u,{as:"section",column:!0,gap:"1rem",children:[e(f,{type:"text",value:t,onChange:i=>{s(i.target.value),l(()=>o(i.target.value))}}),c?e(y,{}):e(G,{query:n})]})},G=({query:t})=>{if(t==="")return e("div",{});{const s=Array.from({length:5e3},(n,o)=>r(x,{children:[e(S,{}),e(C,{children:t})]},o));return e(u,{center:!0,column:!0,gap:"1rem",children:s})}},H=()=>{const[t,s]=a.exports.useState(!0),[n,o]=a.exports.useState(0),[c,l]=a.exports.useState(()=>Date.now()),[m,i]=a.exports.useState([]),v=_([t,n,c]),T=()=>{s(!t),o(n+1),l(Date.now())},R=()=>{setTimeout(()=>{s(!t),o(n+1),l(Date.now())},0)},Q=()=>{g.exports.flushSync(()=>s(!t)),g.exports.flushSync(()=>o(n+1)),g.exports.flushSync(()=>l(Date.now()))};return a.exports.useEffect(()=>{i(b=>[...b,r("tr",{children:[e("td",{children:v}),e("td",{children:t.toString()}),e("td",{children:n}),e("td",{children:j(c)})]},`${c}_${n}_${t}`)])},[t,n,c]),r(u,{column:!0,gap:"1rem",children:[r(D,{gap:"0.5rem",children:[r(p,{onClick:T,children:["Update state in ",e("strong",{children:"event handler"})]}),r(p,{onClick:R,children:["Update state in ",e("strong",{children:"setTimeout"})]}),r(p,{onClick:Q,children:["Update state in ",e("strong",{children:"flushSync"})]})]}),r(U,{cellSpacing:0,children:[e("thead",{children:r("tr",{children:[e("th",{children:"Render Count"}),e("th",{children:"Boolean"}),e("th",{children:"Number"}),e("th",{children:"Time"})]})}),e("tbody",{children:m})]})]})},L=()=>{const[t,s]=a.exports.useState(""),n=a.exports.useDeferredValue(t);return r(u,{as:"section",column:!0,gap:"1rem",children:[e(f,{type:"text",value:t,onChange:l=>{s(l.target.value)}}),t!==n?e(y,{}):e(W,{query:n})]})},W=({query:t})=>{if(t==="")return e("div",{});{const s=Array.from({length:5e3},(n,o)=>r(x,{children:[e(S,{}),e(C,{children:t})]},o));return e(u,{center:!0,column:!0,gap:"1rem",children:s})}},z=()=>{const[t,s]=a.exports.useState(""),[n,o]=a.exports.useState(""),[c,l]=a.exports.useTransition();return r(u,{as:"section",column:!0,gap:"1rem",children:[e(f,{type:"text",value:t,onChange:i=>{s(i.target.value),l(()=>o(i.target.value))}}),e(a.exports.Suspense,{fallback:e(y,{}),children:e("div",{style:{opacity:c?.4:1},children:e(J,{query:n})})})]})},J=a.exports.memo(({query:t})=>{const s=V(t?`https://restcountries.com/v3.1/name/${t}`:"https://restcountries.com/v3.1/all");return e(k,{children:s.sort((n,o)=>n.name.official.localeCompare(o.name.official)).map(n=>r(B,{children:[e(w,{src:n.flags.png}),e("span",{children:n.name.official})]},n.name.official))})}),K=()=>r(F,{theme:$,children:[e(A,{}),r(E,{children:[e("h2",{children:"React 18"}),e(I,{children:r(N,{children:[e(h,{path:d("transition"),element:e(q,{})}),e(h,{path:d("batching"),element:e(H,{})}),e(h,{path:d("deferredValue"),element:e(L,{})}),e(h,{path:d("suspense"),element:e(z,{})})]})})]})]}),M=document.getElementById("root"),O=P(M);O.render(e(K,{}));
