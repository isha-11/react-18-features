import{r as a,j as o,F as u,a as e,e as m,c as D,t as k,G as w,H as B,R as F,d,f as h}from"./theme.1cbf1d13.js";import{c as U}from"./client.01055bfd.js";import{S as y,b as f,C as S,R as x,a as C,u as $,B as g,T as I,Q as N,q as P,c as A,L as E,I as _,F as j}from"./useFetch.701b8b92.js";const q=()=>{const[t,r]=a.exports.useState(""),[n,s]=a.exports.useState(""),[c,l]=a.exports.useTransition();return o(u,{as:"section",column:!0,gap:"1rem",padding:"2rem 0",children:[e(y,{type:"text",value:t,onChange:i=>{r(i.target.value),l(()=>s(i.target.value))}}),c?e(f,{}):e(L,{query:n})]})},L=({query:t})=>{if(t==="")return e("div",{});{const r=Array.from({length:5e3},(n,s)=>o(S,{children:[e(x,{}),e(C,{children:t})]},s));return e(u,{center:!0,column:!0,gap:"1rem",children:r})}},V=()=>{const[t,r]=a.exports.useState(!0),[n,s]=a.exports.useState(0),[c,l]=a.exports.useState(()=>Date.now()),[p,i]=a.exports.useState([]),v=$([t,n,c]),R=()=>{r(!t),s(n+1),l(Date.now())},Q=()=>{setTimeout(()=>{r(!t),s(n+1),l(Date.now())},0)},T=()=>{m.exports.flushSync(()=>r(!t)),m.exports.flushSync(()=>s(n+1)),m.exports.flushSync(()=>l(Date.now()))};return a.exports.useEffect(()=>{i(b=>[...b,o("tr",{children:[e("td",{children:v}),e("td",{children:t.toString()}),e("td",{children:n}),e("td",{children:new Date(c).toISOString()})]},`${c}_${n}_${t}`)])},[t,n,c]),o(u,{column:!0,gap:"1rem",children:[o(u,{gap:"1rem",children:[e(g,{onClick:R,children:"setState in event handler"}),e(g,{onClick:Q,children:"setState in setTimeout"}),e(g,{onClick:T,children:"setState in flushSync"})]}),o(I,{cellSpacing:0,children:[e("thead",{children:o("tr",{children:[e("th",{children:"Render Count"}),e("th",{children:"Boolean"}),e("th",{children:"Number"}),e("th",{children:"Date"})]})}),e("tbody",{children:p})]})]})},G=()=>{const[t,r]=a.exports.useState(""),n=a.exports.useDeferredValue(t);return o(u,{as:"section",column:!0,gap:"1rem",padding:"2rem 0",children:[e(y,{type:"text",value:t,onChange:l=>{r(l.target.value)}}),t!==n?e(f,{}):e(H,{query:n})]})},H=({query:t})=>{if(t==="")return e("div",{});{const r=Array.from({length:5e3},(n,s)=>o(S,{children:[e(x,{}),e(C,{children:t})]},s));return e(u,{center:!0,column:!0,gap:"1rem",children:r})}},O=()=>{const[t,r]=a.exports.useState(""),[n,s]=a.exports.useState(""),[c,l]=a.exports.useTransition();return e(N,{client:P,children:o(u,{as:"section",column:!0,gap:"1rem",padding:"2rem 0",children:[e(y,{type:"text",value:t,onChange:i=>{r(i.target.value),l(()=>s(i.target.value))}}),e(a.exports.Suspense,{fallback:e(f,{}),children:e("div",{style:{opacity:c?.4:1},children:e(W,{query:n})})})]})})},W=({query:t})=>{const r=A(t?`https://restcountries.com/v3.1/name/${t}`:"https://restcountries.com/v3.1/all");return e(E,{children:r.sort((n,s)=>n.name.official.localeCompare(s.name.official)).map(n=>o(_,{children:[e(j,{src:n.flags.png}),e("span",{children:n.name.official})]},n.name.official))})},z=()=>o(D,{theme:k,children:[e(w,{}),o("main",{className:"App",children:[e("h2",{children:"React 18"}),e(B,{children:o(F,{children:[e(d,{path:h("transition"),element:e(q,{})}),e(d,{path:h("batching"),element:e(V,{})}),e(d,{path:h("deferredValue"),element:e(G,{})}),e(d,{path:h("suspense"),element:e(O,{})})]})})]})]}),J=document.getElementById("root"),K=U(J);K.render(e(z,{}));
