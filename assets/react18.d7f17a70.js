import{r as a,j as o,F as u,a as e,e as p,c as D,t as k,G as B,H as F,R as w,d,f as h}from"./theme.ae9ea425.js";import{c as U}from"./client.dd12a7d4.js";import{S as f,b as y,C as S,R as x,a as C,u as $,f as N,B as g,T as P,Q as A,q as E,c as I,L as _,I as j,F as q}from"./useFetch.781d8c4f.js";const L=()=>{const[t,r]=a.exports.useState(""),[n,s]=a.exports.useState(""),[c,l]=a.exports.useTransition();return o(u,{as:"section",column:!0,gap:"1rem",padding:"2rem 0",children:[e(f,{type:"text",value:t,onChange:i=>{r(i.target.value),l(()=>s(i.target.value))}}),c?e(y,{}):e(V,{query:n})]})},V=({query:t})=>{if(t==="")return e("div",{});{const r=Array.from({length:5e3},(n,s)=>o(S,{children:[e(x,{}),e(C,{children:t})]},s));return e(u,{center:!0,column:!0,gap:"1rem",children:r})}},G=()=>{const[t,r]=a.exports.useState(!0),[n,s]=a.exports.useState(0),[c,l]=a.exports.useState(()=>Date.now()),[m,i]=a.exports.useState([]),v=$([t,n,c]),R=()=>{r(!t),s(n+1),l(Date.now())},Q=()=>{setTimeout(()=>{r(!t),s(n+1),l(Date.now())},0)},T=()=>{p.exports.flushSync(()=>r(!t)),p.exports.flushSync(()=>s(n+1)),p.exports.flushSync(()=>l(Date.now()))};return a.exports.useEffect(()=>{i(b=>[...b,o("tr",{children:[e("td",{children:v}),e("td",{children:t.toString()}),e("td",{children:n}),e("td",{children:N(c)})]},`${c}_${n}_${t}`)])},[t,n,c]),o(u,{column:!0,gap:"1rem",children:[o(u,{gap:"1rem",children:[e(g,{onClick:R,children:"setState in event handler"}),e(g,{onClick:Q,children:"setState in setTimeout"}),e(g,{onClick:T,children:"setState in flushSync"})]}),o(P,{cellSpacing:0,children:[e("thead",{children:o("tr",{children:[e("th",{children:"Render Count"}),e("th",{children:"Boolean"}),e("th",{children:"Number"}),e("th",{children:"Date"})]})}),e("tbody",{children:m})]})]})},H=()=>{const[t,r]=a.exports.useState(""),n=a.exports.useDeferredValue(t);return o(u,{as:"section",column:!0,gap:"1rem",padding:"2rem 0",children:[e(f,{type:"text",value:t,onChange:l=>{r(l.target.value)}}),t!==n?e(y,{}):e(W,{query:n})]})},W=({query:t})=>{if(t==="")return e("div",{});{const r=Array.from({length:5e3},(n,s)=>o(S,{children:[e(x,{}),e(C,{children:t})]},s));return e(u,{center:!0,column:!0,gap:"1rem",children:r})}},z=()=>{const[t,r]=a.exports.useState(""),[n,s]=a.exports.useState(""),[c,l]=a.exports.useTransition();return e(A,{client:E,children:o(u,{as:"section",column:!0,gap:"1rem",children:[e(f,{type:"text",value:t,onChange:i=>{r(i.target.value),l(()=>s(i.target.value))}}),e(a.exports.Suspense,{fallback:e(y,{}),children:e("div",{style:{opacity:c?.4:1},children:e(J,{query:n})})})]})})},J=({query:t})=>{const r=I(t?`https://restcountries.com/v3.1/name/${t}`:"https://restcountries.com/v3.1/all");return e(_,{children:r.sort((n,s)=>n.name.official.localeCompare(s.name.official)).map(n=>o(j,{children:[e(q,{src:n.flags.png}),e("span",{children:n.name.official})]},n.name.official))})},K=()=>o(D,{theme:k,children:[e(B,{}),o("main",{className:"App",children:[e("h2",{children:"React 18"}),e(F,{children:o(w,{children:[e(d,{path:h("transition"),element:e(L,{})}),e(d,{path:h("batching"),element:e(G,{})}),e(d,{path:h("deferredValue"),element:e(H,{})}),e(d,{path:h("suspense"),element:e(z,{})})]})})]})]}),M=document.getElementById("root"),O=U(M);O.render(e(K,{}));
